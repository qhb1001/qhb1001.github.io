<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  
    
      
    

    
  

  
    
      
    

    
  

  
    
      
    

    
  

  
    
    
    <link href="https://fonts.googleapis.com/css/css?family=Roboto Slab:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Lobster Two:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="Course,Distributed Computing,book,">





  <link rel="alternate" href="/atom.xml" title="Beyond" type="application/atom+xml">






<meta name="description" content="This is the note of the textbook “Introduction to Reliable and Secure Dsitributed Programming” to the graduate course CS247 “The Principles of Distributed Computing” in UCR.  Reference:  Algorithm Ann">
<meta name="keywords" content="Course,Distributed Computing,book">
<meta property="og:type" content="article">
<meta property="og:title" content="Reliable and Secure Distributed Programming">
<meta property="og:url" content="http://notes-hongbo.top/2020/04/26/Reliable-and-Secure-Distributed-Programming/index.html">
<meta property="og:site_name" content="Beyond">
<meta property="og:description" content="This is the note of the textbook “Introduction to Reliable and Secure Dsitributed Programming” to the graduate course CS247 “The Principles of Distributed Computing” in UCR.  Reference:  Algorithm Ann">
<meta property="og:locale" content="default">
<meta property="og:image" content="http://notes-hongbo.top/2020/04/26/Reliable-and-Secure-Distributed-Programming/2.6.png">
<meta property="og:image" content="http://notes-hongbo.top/2020/04/26/Reliable-and-Secure-Distributed-Programming/2.6.3.png">
<meta property="og:image" content="http://notes-hongbo.top/2020/04/26/Reliable-and-Secure-Distributed-Programming/3.2.1.png">
<meta property="og:image" content="http://notes-hongbo.top/2020/04/26/Reliable-and-Secure-Distributed-Programming/3.2.2.png">
<meta property="og:image" content="http://notes-hongbo.top/2020/04/26/Reliable-and-Secure-Distributed-Programming/3.12.png">
<meta property="og:image" content="http://notes-hongbo.top/2020/04/26/Reliable-and-Secure-Distributed-Programming/3.13.png">
<meta property="og:image" content="http://notes-hongbo.top/2020/04/26/Reliable-and-Secure-Distributed-Programming/3.14.png">
<meta property="og:image" content="http://notes-hongbo.top/2020/04/26/Reliable-and-Secure-Distributed-Programming/4.1.png">
<meta property="og:image" content="http://notes-hongbo.top/2020/04/26/Reliable-and-Secure-Distributed-Programming/4.2.png">
<meta property="og:image" content="http://notes-hongbo.top/2020/04/26/Reliable-and-Secure-Distributed-Programming/4.3.png">
<meta property="og:image" content="http://notes-hongbo.top/2020/04/26/Reliable-and-Secure-Distributed-Programming/4.4.png">
<meta property="og:image" content="http://notes-hongbo.top/2020/04/26/Reliable-and-Secure-Distributed-Programming/4.5.png">
<meta property="og:image" content="http://notes-hongbo.top/2020/04/26/Reliable-and-Secure-Distributed-Programming/5.1.png">
<meta property="og:image" content="http://notes-hongbo.top/2020/04/26/Reliable-and-Secure-Distributed-Programming/5.2.1.png">
<meta property="og:image" content="http://notes-hongbo.top/2020/04/26/Reliable-and-Secure-Distributed-Programming/5.2.2.png">
<meta property="og:image" content="http://notes-hongbo.top/2020/04/26/Reliable-and-Secure-Distributed-Programming/5.3.png">
<meta property="og:image" content="http://notes-hongbo.top/2020/04/26/Reliable-and-Secure-Distributed-Programming/5.4.png">
<meta property="og:image" content="http://notes-hongbo.top/2020/04/26/Reliable-and-Secure-Distributed-Programming/5.5.1.png">
<meta property="og:image" content="http://notes-hongbo.top/2020/04/26/Reliable-and-Secure-Distributed-Programming/5.5.2.png">
<meta property="og:updated_time" content="2020-05-19T22:43:13.081Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Reliable and Secure Distributed Programming">
<meta name="twitter:description" content="This is the note of the textbook “Introduction to Reliable and Secure Dsitributed Programming” to the graduate course CS247 “The Principles of Distributed Computing” in UCR.  Reference:  Algorithm Ann">
<meta name="twitter:image" content="http://notes-hongbo.top/2020/04/26/Reliable-and-Secure-Distributed-Programming/2.6.png">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.3',
    sidebar: {"position":"right","display":"always","offset":12,"b2t":false,"scrollpercent":true,"onmobile":true},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: 'undefined',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://notes-hongbo.top/2020/04/26/Reliable-and-Secure-Distributed-Programming/">





  <title>Reliable and Secure Distributed Programming | Beyond</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-right page-post-detail">
    <div class="headband"></div>

    <a href="https://github.com/qhb1001" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>


    
    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Beyond</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            About
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://notes-hongbo.top/2020/04/26/Reliable-and-Secure-Distributed-Programming/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="秦baibai">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Beyond">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">Reliable and Secure Distributed Programming</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-04-26T09:54:56-07:00">
                2020-04-26
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified&#58;</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2020-05-19T15:43:13-07:00">
                2020-05-19
              </time>
            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  2.7k
                </span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>This is the note of the textbook “Introduction to Reliable and Secure Dsitributed Programming” to the graduate course CS247 “The Principles of Distributed Computing” in UCR. </p>
<p>Reference:</p>
<ul>
<li><a href="https://www.dropbox.com/sh/n7e65xhceb5xh65/AAB2nakbGvcm1_xMGG6UBgw4a?dl=0&amp;preview=1.broadcast-slides.pdf" title="Slides" target="_blank" rel="noopener">Algorithm Annotation</a></li>
<li><a href="https://zhuanlan.zhihu.com/p/93322366" title="Zhihu" target="_blank" rel="noopener">Zhihu Post on Reliable Broadcast</a></li>
</ul>
<a id="more"></a>
<h1 id="Chapter-2-Basic-Abstractions"><a href="#Chapter-2-Basic-Abstractions" class="headerlink" title="Chapter 2 - Basic Abstractions"></a>Chapter 2 - Basic Abstractions</h1><h2 id="2-5-Timing-Assumptions"><a href="#2-5-Timing-Assumptions" class="headerlink" title="2.5 Timing Assumptions"></a>2.5 Timing Assumptions</h2><p>The book uses two terms to describes the characteristic of the timing system: syncharonous system and asynchronous system. However, the definitions here are different from the same terms in operating system. </p>
<p>For asynchronous system, we are refering to the system without any timing assumptions like the global clock: it could have a logical timestamp by algorithm. While for synchronous system, differenet hosts all have a clock recording the global time, and it is allowed for a specific range of error. </p>
<p>And besides the above, the system could also be partial synchrony. This happens when the network is overloaded, or some process has a shorage of memory that slows it down, etc. That will cause the buffer used to store incoming and outgoing messages overflow. And messages may thus get lost, violating the time bound on the delivery. For this kind of system, we assume it as <em>eventually synchronous</em> with the following points:</p>
<ul>
<li>there is a time after which the underlying system is synchronous forever</li>
<li>or the system needs to be initially asynchronous, and then only after some period becomes synchronous. </li>
</ul>
<h2 id="2-6-Abstracting-time"><a href="#2-6-Abstracting-time" class="headerlink" title="2.6 Abstracting time"></a>2.6 Abstracting time</h2><p>This section introduces some classic fault detection algorithm based on the synchronous and eventually synchronous system. </p>
<p>It should be noted that for every algorithm, the timer is set, during which perioid of time the node is in the receiving phrase. Once the timer is out, the <code>Timeout</code> event is ran and will make the decision based on the information from the previous receiving phrase.</p>
<ul>
<li><p>The Perfect Failure Detection algorithm is introduced, which is implemented by the heartbeat mechanism. The logic is quite simple. </p>
</li>
<li><p>The Leader Election algorithm is implemented with the base of the Perfect Failure Detection algorithm. The algorithm assigns the hosts in the cluster a specific rank. It will keep trying to check whether the current leader is valid and it is the node with the highest rank among all the available nodes.</p>
<p><img src="2.6.png" alt=""></p>
</li>
</ul>
<p>And here is the partial synchronous system verison of the above algorithms.</p>
<ul>
<li><p>The Eventual Failure Detection algorithm in partial synchronous system is introduced. The <code>deday</code> variable will increment a delta time, if there are suspected node in the alive list. Under the hook, this situation could only happen when the current node receives a reply message from the suspected node. </p>
<p>If the algorithm didn’t receive the reply from specific node and it has not been suspected, then it will be appended to the suspected list. Else if the algorithm receive the reply from specific node and it has been suspected, then it will be removed from that list. </p>
<p><img src="2.6.3.png" alt=""></p>
</li>
<li><p>The Eventual leader election algorithm </p>
<p>the only diff between the Perfect Leader election algorithm is that, it uses the Eventual Failure Detection algorithm as the base.</p>
</li>
</ul>
<h1 id="Chapter-3-Reliable-Broadcast"><a href="#Chapter-3-Reliable-Broadcast" class="headerlink" title="Chapter 3: Reliable Broadcast"></a>Chapter 3: Reliable Broadcast</h1><h2 id="3-1-Regular-Reliable-Broadcast"><a href="#3-1-Regular-Reliable-Broadcast" class="headerlink" title="3.1 Regular Reliable Broadcast"></a>3.1 Regular Reliable Broadcast</h2><p>Before we dive into the ralm of broadcast, the difference between broadcast and deliver should be clarified. While the first term means that the communication between the same layer, i.e. the peer nodes. And the deliver means that the message delivery to the upper layer of application inside the same node. Sometimes we may not want to immediately deliver the message once it is received, such as the agreement issue [see more on URB algorithm]. </p>
<ul>
<li><p>Best-Effort Broadcast (BEB) </p>
<p>In the module, there are only two methods, one for the sender <code>Broadcast</code>, the other for the receiver <code>Deliver</code>, which is used to deliver the message to the other receiver. </p>
</li>
<li><p>Regular Reliable Broadcast (RRB)</p>
<p>The limitation of BEB is that, the nodes may not agree on the delivery of the message: If the sender fails, some processes might deliver the message and others might not deliver it. </p>
<p>The semantics of a reliable broadcast algorithm ensures that the correct processes agree on the set of messages they deliver, even when the senders of these messages crash during the transmission. </p>
<p><img src="3.2.1.png" alt=""></p>
<p>The most interesting line in the algorithm is </p>
<blockquote>
<p>  if s crashes during the broadcast, </p>
<p>  ​    then the node that receives its message will try to broadcast the message from here</p>
</blockquote>
<p>In this way, there could be two possible cases:</p>
<ul>
<li><p>During the broadcast, the sender keeps correct;</p>
</li>
<li><p>During the broadcast, the sender crashes. At this time, the receiver of the broadcast message will detect it and try to broadcast the message for the crashed. </p>
<p>It’s kind of like the search process of DFS algorithm.</p>
<p>And it is this situation that makes the message could be transmitted twice. </p>
</li>
</ul>
</li>
<li><p>Uniform Reliable Broadcast (URB)</p>
<p>The limitation of RRB is that, the nodes may crash right after it re-broadcasts the message, and before it make the BEB to other nodes. In this case, the same problem from the BEB will occur. </p>
<p><img src="3.2.2.png" alt=""></p>
<p>Once the difference between broadcast and deliver is awared of, we can know that the <em>upon event &lt;beb, Deliver | p, [DATA, s, m]&gt;</em> is the overloaded event from the BEB module. And in this case, the algorithm will not deliver the message to the upper layer once it is received. Actually, the data structure <code>ack</code> will be updated to record that the message has been broadcast to the node <code>p</code>. </p>
<p>Only when all the correct nodes have received the message, will the node deliver the message to the application layer. </p>
</li>
</ul>
<h2 id="3-2-FIFO-and-Causal-Broadcast"><a href="#3-2-FIFO-and-Causal-Broadcast" class="headerlink" title="3.2 FIFO and Causal Broadcast"></a>3.2 FIFO and Causal Broadcast</h2><p>Sometimes, the order of the messages in the broadcast matters. </p>
<ul>
<li><p>FOFI-Order </p>
<p>A FIFO-order is one of the simplest possible orderings and guarantees that messages from the same sender are delivered in the same sequence as they were broadcast by the sender. Note, this does not affect messages from different senders. </p>
<p><img src="3.12.png" alt=""></p>
<p>The key point is the sequence number <code>lsn</code>. The process also maintains an array <code>next</code>, which contains an entry for every process <code>p</code> with the sequence number of the next message to be <code>frb-delivered</code> from sender <code>p</code>. </p>
</li>
<li><p>Causal-Order </p>
<p>The <em>causal order</em> property for a broadcast abstraction ensures that messages are delivered such that they respect all cause-effect relations. </p>
<p>As is evident from the condition described above, a causal-order broadcast primitive provides also FIFO-order reliable broadcast. </p>
<ul>
<li><p><em>no-waiting</em></p>
<p><img src="3.13.png" alt=""></p>
<p>We call the algorithm <em>no-waiting</em> because whenever a process rb-delivers a message m, it crb-delivers m without waiting for further messages to be rb-delivered. Each message arrives to a node with the preceeding message ahead it. The receiver has to first crb-deliver the past messages, and after it finished, the current message could then be delivered. In order to disseminate its own causal past, each process p stores all the messages it has crb-broadcast or crb-delivered in a local variable past, and rb-broadcasts past together with every crb-broadcast message. </p>
</li>
<li><p>Garbage-Collection built upon <em>no-waiting</em> algorithm</p>
<p>This is a simple optimization of the “No-Waiting Causal Broadcast” algorithm to delete messages from the <code>past</code> variable.</p>
<p>When a process rb-delivers a message m, the process rb-broadcasts an ACK to all processes; when an ACK for m has been rb-delivered from all correct processes, then m is purged from <em>past</em>.</p>
<p><img src="3.14.png" alt=""></p>
</li>
</ul>
</li>
</ul>
<h1 id="Chapter-4-Shared-Memory"><a href="#Chapter-4-Shared-Memory" class="headerlink" title="Chapter 4: Shared Memory"></a>Chapter 4: Shared Memory</h1><h2 id="4-1-Regular-Register"><a href="#4-1-Regular-Register" class="headerlink" title="4.1 Regular Register"></a>4.1 Regular Register</h2><h3 id="Specification"><a href="#Specification" class="headerlink" title="Specification"></a>Specification</h3><p>Only one process is allowed to write, and multiple processes could read at the same. We call this kind of register as (1, N) regular register. </p>
<p>It should satisfy the following properties: </p>
<ul>
<li>Read() will return the last value writted if there is no concurrent operation or failed operations; </li>
<li>otherwise, the last value writted or any value concurrently written, i.e. the input parameter of some write() function call.</li>
</ul>
<h3 id="Algorithm"><a href="#Algorithm" class="headerlink" title="Algorithm"></a>Algorithm</h3><p>Here are two algorithm within the range of regular register</p>
<ul>
<li><p>Fail-Stop Algorithm</p>
<p>Every process has its own copy of the register. When a writer makes changes to the shared register, it will first update all the other copy. Only when receiving ACK from all other correct processes, it will execute the WriteReturn call.</p>
<p><img src="4.1.png" alt=""></p>
</li>
<li><p>Fail-Silent Algorithm</p>
<p><img src="4.2.png" alt=""></p>
<p>Writer will execute WriteReturn only when received majority ACK. </p>
<p>To read a value, a reader process beb-broadcasts a READ message to all processes, every process replies with the stored value and its timestamp, and the reader selects the value with the largest time stampt from a majority of the replies. The processes in this majority act as witnesses of what was written before. <strong>This majority does not have to be the same as the one used by the writer.</strong> </p>
</li>
</ul>
<h2 id="4-2-Atomic-Register"><a href="#4-2-Atomic-Register" class="headerlink" title="4.2 Atomic Register"></a>4.2 Atomic Register</h2><h3 id="Specification-1"><a href="#Specification-1" class="headerlink" title="Specification"></a>Specification</h3><ul>
<li><p>Every failed (write) operation appears to be either complete or not to have been invoked at all</p>
</li>
<li><p>Every complete operation appears to be executed at some instant between its invocation and reply time events </p>
</li>
</ul>
<p>In the testbook of 4.3.1 section, the author illustrates the reasons why the previous algorithms are not atomic, even if they are failure-free.</p>
<h3 id="Atomic-VS-Regular"><a href="#Atomic-VS-Regular" class="headerlink" title="Atomic VS Regular"></a>Atomic VS Regular</h3><ul>
<li><p>With one writer and no failed <strong><em>Write(),\</em></strong> for a a regular register to be atomic, two successive <strong><em>Read()\</em></strong> must not overlap a <strong><em>Write()\</em></strong> </p>
<p>This statement does not make any sense to me. </p>
</li>
<li><p>The regular register might in this case allow the first <strong><em>Read()\</em></strong> to obtain the new value and the second <strong><em>Read()\</em></strong> to obtain the old value</p>
</li>
</ul>
<h3 id="Algorithm-1"><a href="#Algorithm-1" class="headerlink" title="Algorithm"></a>Algorithm</h3><h4 id="fail-stop-1-1-atomic-register"><a href="#fail-stop-1-1-atomic-register" class="headerlink" title="fail-stop (1, 1) atomic register"></a>fail-stop (1, 1) atomic register</h4><p><img src="4.3.png" alt=""></p>
<ul>
<li><p>To ooar-write a value v to the atomic register, the writer p increments its timestamp wts and onrr-writes the pair (wts, v) into the underlying regular register. </p>
</li>
<li><p>To ooar-read a value from the atomic register, the reader q first onrr-reads a timestamp/value pair from the underlying regular register. If the returned timestamp ts’ is larger than the local timestamp ts, then q stores ts’ together with the returned value v in the local variables, and returns v. Otherwise, the reader simple returns the value from val, which it has already stored locally. </p>
<p>Remark: The key difference between the atomic register and the regular register is that, the value read from other peers is guaranteed to have a timestamp larger than or equal to the previous value read. </p>
</li>
</ul>
<h4 id="fail-stop-1-N-atomic-register"><a href="#fail-stop-1-N-atomic-register" class="headerlink" title="fail-stop (1, N) atomic register"></a>fail-stop (1, N) atomic register</h4><p><img src="4.4.png" alt=""></p>
<ul>
<li>Both write and read operations require N registers to be updated; </li>
<li>And both write and read operations will update the local variable right now;</li>
<li>The variable is guaranteed to be newer than before;</li>
<li>limitation: we can’t not generalize this algorithm to (N, N) because we are considering one global register with one sequence number.</li>
<li>Note that the read operation actually calls the beb-broadcast write operation with the current timestamp, which will not influence the newer value. In this case, the read operation will try to update other processes with their vaule before returning it. </li>
</ul>
<h4 id="fail-stop-N-N-atomic-register"><a href="#fail-stop-N-N-atomic-register" class="headerlink" title="fail-stop (N, N) atomic register"></a>fail-stop (N, N) atomic register</h4><p>specification: An (N, N) atomic register is a strict generalization of a (1, N) register in the sense that every execution of a (1, N) atomic register is also an execution of an (N, N) atomic register, but not vice versa. </p>
<p>Process: First collect the largest timestamp, and then locate the variable with <code>pid</code>. Broadcast the tuple &lt;timestamp, pid&gt; when writing. Update the register based on the timestamp (as the first priority order) and a fixed order between processes (as the second priority order).</p>
<p><img src="4.5.png" alt=""></p>
<p>Key idea: To coordinate the writer so that they explicitly create a happened-before relation among the information they write, all teachers associate a global timestamp with every written value. When the writer first writes <code>w</code>, it will first read the shared register and finds <code>v</code> and an associated timestamp there. And then it will increment the ts and associates it with <code>w</code>, representing that <code>w</code> was written after <code>v</code>. </p>
<p>Reads will also try to update other processes with their value before returning it. </p>
<h1 id="Chapter-5-Consensus"><a href="#Chapter-5-Consensus" class="headerlink" title="Chapter 5: Consensus"></a>Chapter 5: Consensus</h1><h2 id="5-1-Specification"><a href="#5-1-Specification" class="headerlink" title="5.1 Specification"></a>5.1 Specification</h2><p>In the consensus problem, the processes propose value and have to agree on one among these values. Solving consensus is the key to solving many problems in distributed computing. </p>
<ul>
<li>Regular consensus<ol>
<li>Validity: Any value decided is a value proposed before.</li>
<li>Agreement: No two <strong>correct</strong> processes decide differently.</li>
<li>Termination: Every correct process eventually decides.</li>
<li>Integrity: No process decides twice.</li>
</ol>
</li>
<li>Uniform consensus<ol>
<li>Validity: Any value decided is a value proposed.</li>
<li>Uniform Agreement: No two processes decide differently. [even failed process should have the correct consensus]</li>
<li>Termination: Every correct process eventually decides</li>
<li>Integrity: No process decides twice.</li>
</ol>
</li>
</ul>
<h2 id="5-2-Algorithm"><a href="#5-2-Algorithm" class="headerlink" title="5.2 Algorithm"></a>5.2 Algorithm</h2><h3 id="5-2-1-P-based-regualr-consensus-algorithm"><a href="#5-2-1-P-based-regualr-consensus-algorithm" class="headerlink" title="5.2.1 P-based regualr consensus algorithm"></a>5.2.1 P-based regualr consensus algorithm</h3><p>Key idea: The “Hierarchical Consensus” algorithm works in rounds and relies on a best-effort broadcast abstraction and on a perfect failure detector abstratction. In ruond <code>i</code>, the process p with rank i decides its proposal and broadcasts it to all processes in a DECIDED messgae. All other processes that reach round i wait before taking any actions, until they deliver this message or until detector detects the crash of p. No other process than p broadcasts any message in round i. A process collects the ranks of the processes detected to have crashed by detector in a variable detectedranks. </p>
<p><img src="5.1.png" alt=""></p>
<h3 id="5-2-2-P-based-uniform-consensus-algorithm"><a href="#5-2-2-P-based-uniform-consensus-algorithm" class="headerlink" title="5.2.2 P-based uniform consensus algorithm"></a>5.2.2 P-based uniform consensus algorithm</h3><p>Key idea: Don’t let a process decide and then crash before imposing its value on everyone. The correct process may be the last one. Therefore, we delaying the decision to the last round. The processes exchange and update proposal in rounds, and after n rounds decide on the current proposal value. </p>
<p>The processes go through rounds incrementally (1 to n): in each round i, process pi sends its currentProposal to all. A process adopts any currentProposal it receives. </p>
<p><img src="5.2.1.png" alt=""></p>
<p><img src="5.2.2.png" alt=""></p>
<h3 id="5-2-3-lt-gt-P-based-uniform-consensus-algorithm"><a href="#5-2-3-lt-gt-P-based-uniform-consensus-algorithm" class="headerlink" title="5.2.3 &lt;&gt;P-based uniform consensus algorithm"></a>5.2.3 &lt;&gt;P-based uniform consensus algorithm</h3><p>We introduce two abstractions to build our fail-noisy consensus algorithm. The first one is epoch-change primitive that is responsible for triggering the sequence of epochs at all processes. The second one is an epoch consensus abstraction, whose goal is to reach consensus in a given epoch. Since one epoch might be aborted, the consensus algorithm will invoke multiple epoch consensus instances in sequence, governed by the outputs from the epoch-chage primitive. </p>
<p>&lt;&gt;P-based is the eventually perfect failure detector, which ensres 1. Strong completeness (eventually every process that crashes is permanently suspected by all correct processes) 2. eventual strong accuracy (eventually no correct process is suspected by any process)</p>
<ul>
<li><p>Epoch-Change</p>
<p>A fail-noisy model, relying on an eventual leader detector.</p>
<p>The epoch-change abstraction signals the start of a new epoch by triggering a <startepoch |="" ts,="" l=""> event, when a leader is suspected. Apart from the implicit initialization, the epoch-change abstraction receives no requests. </startepoch></p>
<p><img src="5.3.png" alt=""></p>
<p>Every process p maintains two timestamps: <code>lastts</code> of the last epoch that it started, and <code>ts</code> of the last epoch that it attempted to start with itself as leader. </p>
<p>Initially, the process sets <code>ts</code> to its rank. Whenever the leader detector subsequently makes p trust itself, p adds N to ts and sends a ENWEPOCH message with ts. When process p receives a NEWEPOCH message with a parameter newts &gt; lastts from some process l and p most recently trusted l, then the process triggers a <startepoch> event with parameters newts and l. Otherwise, the process informs the aspiring leader l with a NACK message that the new epoch could noe be started. </startepoch></p>
<p>In a word, when omega (eventual leader detector) indicates a different leader is trusted, the process will increment timestamp, broadcast a NEWEPOCH message; when delivering a NEWEPOCH message, the process will trigger the start of a new EPOCH. </p>
</li>
<li><p>Epoch Consensus</p>
<p>A fail-silent model, provided only that a majority of the processes is correct. </p>
<p>It only represents an attempt to reach consensus; epoch consensus may not terminate and can be aborted when it does not decide or when the next epoch should already be started by the higher-level algorithm. </p>
<p><img src="5.4.png" alt=""></p>
</li>
<li><p>By combining the above two module together, we can finally device the fail-noisy algorithm: Leader-Driver Consensus. </p>
<p> <img src="5.5.1.png" alt=""></p>
<p><img src="5.5.2.png" alt=""></p>
</li>
</ul>
<h1 id="Terminating-Reliable-Broadcase"><a href="#Terminating-Reliable-Broadcase" class="headerlink" title="Terminating Reliable Broadcase"></a>Terminating Reliable Broadcase</h1><p>Why would other processes would not deliver the messgae when the source sender crashes int Uniform Reliable Brodcast?</p>
<h1 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h1>
      
    </div>
    
    
    

    

    

    
      <div>
        <ul class="post-copyright">
  <li class="post-copyright-author">
    <strong>Post author:</strong>
    秦baibai
  </li>
  <li class="post-copyright-link">
    <strong>Post link:</strong>
    <a href="http://notes-hongbo.top/2020/04/26/Reliable-and-Secure-Distributed-Programming/" title="Reliable and Secure Distributed Programming">http://notes-hongbo.top/2020/04/26/Reliable-and-Secure-Distributed-Programming/</a>
  </li>
  <li class="post-copyright-license">
    <strong>Copyright Notice: </strong>
    All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/3.0/" rel="external nofollow" target="_blank">CC BY-NC-SA 3.0</a> unless stating additionally.
  </li>
</ul>

      </div>
    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Course/" rel="tag"># Course</a>
          
            <a href="/tags/Distributed-Computing/" rel="tag"># Distributed Computing</a>
          
            <a href="/tags/book/" rel="tag"># book</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2020/04/26/CS202-OS-Paper-Critique/" rel="next" title="CS202: OS Paper Critique">
                <i class="fa fa-chevron-left"></i> CS202: OS Paper Critique
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2020/04/28/CS204-Advanced-Computer-Networks/" rel="prev" title="CS204: Advanced Computer Networks">
                CS204: Advanced Computer Networks <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
      <div id="sidebar-dimmer"></div>
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.JPG" alt="秦baibai">
            
              <p class="site-author-name" itemprop="name">秦baibai</p>
              <p class="site-description motion-element" itemprop="description">So we beat on, boats against the current, borne back ceaselessly into the past.</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">40</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">45</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          <div class="links-of-author motion-element">
            
              
                <span class="links-of-author-item">
                  <a href="https://github.com/qhb1001" target="_blank" title="GitHub">
                    
                      <i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="mailto:hongbo.qin.1001@gmail.com" target="_blank" title="E-Mail">
                    
                      <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://www.instagram.com/qhb_1001/" target="_blank" title="Instagram">
                    
                      <i class="fa fa-fw fa-instagram"></i>Instagram</a>
                </span>
              
            
          </div>

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-inline">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                友情链接
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="http://mrsempress.top" title="Little Sun" target="_blank">Little Sun</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://tobiaslee.top/" title="TobiasLee" target="_blank">TobiasLee</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://aidenfan.github.io/" title="UdefinedF" target="_blank">UdefinedF</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://blog.three7.cc/" title="37as" target="_blank">37as</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      
      <!--noindex-->
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
              
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Chapter-2-Basic-Abstractions"><span class="nav-number">1.</span> <span class="nav-text">Chapter 2 - Basic Abstractions</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#2-5-Timing-Assumptions"><span class="nav-number">1.1.</span> <span class="nav-text">2.5 Timing Assumptions</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#2-6-Abstracting-time"><span class="nav-number">1.2.</span> <span class="nav-text">2.6 Abstracting time</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Chapter-3-Reliable-Broadcast"><span class="nav-number">2.</span> <span class="nav-text">Chapter 3: Reliable Broadcast</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#3-1-Regular-Reliable-Broadcast"><span class="nav-number">2.1.</span> <span class="nav-text">3.1 Regular Reliable Broadcast</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#3-2-FIFO-and-Causal-Broadcast"><span class="nav-number">2.2.</span> <span class="nav-text">3.2 FIFO and Causal Broadcast</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Chapter-4-Shared-Memory"><span class="nav-number">3.</span> <span class="nav-text">Chapter 4: Shared Memory</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#4-1-Regular-Register"><span class="nav-number">3.1.</span> <span class="nav-text">4.1 Regular Register</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Specification"><span class="nav-number">3.1.1.</span> <span class="nav-text">Specification</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Algorithm"><span class="nav-number">3.1.2.</span> <span class="nav-text">Algorithm</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#4-2-Atomic-Register"><span class="nav-number">3.2.</span> <span class="nav-text">4.2 Atomic Register</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Specification-1"><span class="nav-number">3.2.1.</span> <span class="nav-text">Specification</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Atomic-VS-Regular"><span class="nav-number">3.2.2.</span> <span class="nav-text">Atomic VS Regular</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Algorithm-1"><span class="nav-number">3.2.3.</span> <span class="nav-text">Algorithm</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#fail-stop-1-1-atomic-register"><span class="nav-number">3.2.3.1.</span> <span class="nav-text">fail-stop (1, 1) atomic register</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#fail-stop-1-N-atomic-register"><span class="nav-number">3.2.3.2.</span> <span class="nav-text">fail-stop (1, N) atomic register</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#fail-stop-N-N-atomic-register"><span class="nav-number">3.2.3.3.</span> <span class="nav-text">fail-stop (N, N) atomic register</span></a></li></ol></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Chapter-5-Consensus"><span class="nav-number">4.</span> <span class="nav-text">Chapter 5: Consensus</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#5-1-Specification"><span class="nav-number">4.1.</span> <span class="nav-text">5.1 Specification</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#5-2-Algorithm"><span class="nav-number">4.2.</span> <span class="nav-text">5.2 Algorithm</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#5-2-1-P-based-regualr-consensus-algorithm"><span class="nav-number">4.2.1.</span> <span class="nav-text">5.2.1 P-based regualr consensus algorithm</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-2-2-P-based-uniform-consensus-algorithm"><span class="nav-number">4.2.2.</span> <span class="nav-text">5.2.2 P-based uniform consensus algorithm</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#5-2-3-lt-gt-P-based-uniform-consensus-algorithm"><span class="nav-number">4.2.3.</span> <span class="nav-text">5.2.3 &lt;&gt;P-based uniform consensus algorithm</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Terminating-Reliable-Broadcase"><span class="nav-number">5.</span> <span class="nav-text">Terminating Reliable Broadcase</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Reference"><span class="nav-number">6.</span> <span class="nav-text">Reference</span></a></li></ol></div>
            

          </div>
        </section>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">秦baibai</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">Site words total count&#58;</span>
    
    <span title="Site words total count">70.3k</span>
  
</div>






  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a></div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  

  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.3"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.3"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>




  


  




	





  





  












  





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  
  <script type="text/javascript" src="/js/src/js.cookie.js?v=5.1.3"></script>
  <script type="text/javascript" src="/js/src/scroll-cookie.js?v=5.1.3"></script>


  


</body>
</html>
