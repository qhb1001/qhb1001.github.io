<!DOCTYPE html>



  


<html class="theme-next muse use-motion" lang="">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link href="/lib/pace/pace-theme-minimal.min.css?v=1.0.2" rel="stylesheet">







<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">




  
  
  
  

  
    
    
  

  

  
    
      
    

    
  

  
    
      
    

    
  

  
    
      
    

    
  

  
    
    
    <link href="https://fonts.googleapis.com/css/css?family=Roboto Slab:300,300italic,400,400italic,700,700italic|Roboto Slab:300,300italic,400,400italic,700,700italic|Lobster Two:300,300italic,400,400italic,700,700italic|PT Mono:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.3" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.3">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.3">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.3" color="#222">





  <meta name="keywords" content="Hexo, NexT">





  <link rel="alternate" href="/atom.xml" title="Beyond" type="application/atom+xml">






<meta name="description" content="So we beat on, boats against the current, borne back ceaselessly into the past.">
<meta property="og:type" content="website">
<meta property="og:title" content="Beyond">
<meta property="og:url" content="http://notes-hongbo.top/index.html">
<meta property="og:site_name" content="Beyond">
<meta property="og:description" content="So we beat on, boats against the current, borne back ceaselessly into the past.">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Beyond">
<meta name="twitter:description" content="So we beat on, boats against the current, borne back ceaselessly into the past.">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Muse',
    version: '5.1.3',
    sidebar: {"position":"right","display":"always","offset":12,"b2t":false,"scrollpercent":true,"onmobile":true},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: 'undefined',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://notes-hongbo.top/">





  <title>Beyond</title>
  








</head>

<body itemscope="" itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-right 
  page-home">
    <div class="headband"></div>

    <a href="https://github.com/qhb1001" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewbox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"/><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"/><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"/></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>


    
    <header id="header" class="header" itemscope="" itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Beyond</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle"></p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br>
            
            Archives
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            About
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://notes-hongbo.top/2021/09/28/Path-to-Manager/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="秦baibai">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Beyond">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2021/09/28/Path-to-Manager/" itemprop="url">Path to Manager</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2021-09-28T22:46:51-07:00">
                2021-09-28
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified&#58;</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2021-09-28T23:41:27-07:00">
                2021-09-28
              </time>
            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  1.1k
                </span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p><a href="https://www.amazon.com/Managers-Path-Leaders-Navigating-Growth-ebook/dp/B06XP3GJ7F/ref=sr_1_1?dchild=1&amp;gclid=CjwKCAjw-sqKBhBjEiwAVaQ9a4v6OhE4zcFltK_iDIjtsnA8ELxd7qhKTMz6Qb4mY-q-3UDr2181axoCJ3EQAvD_BwE&amp;hvadid=241640424160&amp;hvdev=c&amp;hvlocphy=9033313&amp;hvnetw=g&amp;hvqmt=e&amp;hvrand=2052560826747065576&amp;hvtargid=kwd-287152308153&amp;hydadcr=21876_10169837&amp;keywords=the+managers+path&amp;qid=1632894458&amp;sr=8-1" target="_blank" rel="noopener">The Manager’s Path: A Guide for Tech Leaders Navigating Growth and Change</a> is one of the books that I was referenced to prepare for the behavioral questions in the tech interviews. In general, there are four kinds of interview rounds: coding, system design, OOD, behavioral question. The BQ round is the only one associated with a manager, who has a lot of weight on the final decision to the offer. </p>
<blockquote>
<p>  Behavioral interview questions are those that focus on how you’ve handled various situations in the workplace and reveal your character traits, abilities and skills. These questions give an interviewer an idea of how you would behave if a similar situation were to arise, the logic being that your success in the past will show success in the future.</p>
<p>  Unlike traditional interview questions, behavior job interview techniques look for concrete examples of skills and experiences that relate to the position. Your answers to these questions should provide a brief story that illustrates your skills and strengths as an employee. For each answer, give the interviewer the background to the story briefly, specific actions you took and the results.</p>
</blockquote>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2021/09/28/Path-to-Manager/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://notes-hongbo.top/2020/11/13/Refacotring-Improving-the-Design-of-Existing-Code/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="秦baibai">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Beyond">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/11/13/Refacotring-Improving-the-Design-of-Existing-Code/" itemprop="url">Refacotring: Improving the Design of Existing Code</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-11-13T17:59:25-08:00">
                2020-11-13
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified&#58;</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2020-11-14T14:49:40-08:00">
                2020-11-14
              </time>
            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  340
                </span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>This post includes the notes that I went through during the reading of the book as mentioned in title. I would like to paste one sentence that totally solved one of my questions regarding the differences between refactoring and design patterns: </p>
<blockquote>
<p>  When my coauthors and I wrote Design Patterns, we mentioned that design patterns provide targets for refactorings. However, <strong>identifying the target is only one part of the problem; transforming your code so that you get there is another challenge.</strong></p>
</blockquote>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2020/11/13/Refacotring-Improving-the-Design-of-Existing-Code/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://notes-hongbo.top/2020/08/26/Summary-of-ASoC-2020/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="秦baibai">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Beyond">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/08/26/Summary-of-ASoC-2020/" itemprop="url">Summary of ASoC 2020</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-08-26T20:09:34-07:00">
                2020-08-26
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified&#58;</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2020-08-27T00:39:03-07:00">
                2020-08-27
              </time>
            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  1.4k
                </span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Project-Information"><a href="#Project-Information" class="headerlink" title="Project Information"></a>Project Information</h1><h2 id="1-Project-Name"><a href="#1-Project-Name" class="headerlink" title="1. Project Name"></a>1. Project Name</h2><p>Dragonfly - an intelligent P2P based image and file distribution system.</p>
<h2 id="2-Project-Task-Description"><a href="#2-Project-Task-Description" class="headerlink" title="2. Project Task Description"></a>2. Project Task Description</h2><p>Now the client of Dragonfly will random read and write disk multiple times during the downloading process.<br>For directly using <code>dfget</code> to download a file:</p>
<ul>
<li><code>dfget</code> random writes a piece into disk after downloading it</li>
<li><code>dfget server</code> random reads the piece from disk to share it</li>
<li><code>dfget</code> sequential reads the file from disk after downloading to do checksum</li>
</ul>
<p>And for using <code>dfdaemon</code> to pull images, there’re extra disk IO by Dragonfly:</p>
<ul>
<li><code>dfdaemon</code> sequential reads the file from disk to send it to <code>dockerd</code></li>
</ul>
<p>It’s not a problem when the host has a local disk. But it will be a potential<br>bottleneck when the Dragonfly client runs on a virtual machine with a cloud disk, all the disk IO will become network IO which has a bad performance when read/write at the same time.</p>
<p>So a solution is needed to reduce the IO times generated by Dragonfly.</p>
<h2 id="3-Implementation-Plan"><a href="#3-Implementation-Plan" class="headerlink" title="3. Implementation Plan"></a>3. Implementation Plan</h2><p>As proposed in the <a href="https://github.com/dragonflyoss/Dragonfly/issues/1164" target="_blank" rel="noopener">Issue #1164</a>, the P2P streaming is come up for the problem discussed above. And my work in ASoC 2020 is to implement part of the streaming download method. The task can be summaried into four aspects, which are supernode scheduler, dfget downloader, dfget uploader, IPC between user and Dragonfly stream dfget. </p>
<h3 id="3-1-Supernode-Scheduler"><a href="#3-1-Supernode-Scheduler" class="headerlink" title="3.1 Supernode Scheduler"></a>3.1 Supernode Scheduler</h3><p>The work in supernode can be categorized into two respectives:</p>
<p><img src="/Users/qinhongbo/Downloads/72036461-e505b200-32d5-11ea-929e-0955ce5be993 (1" alt="72036461-e505b200-32d5-11ea-929e-0955ce5be993 (1)">.png)</p>
<ul>
<li><p>Maintain the sliding window in supernode.</p>
<ul>
<li>Initialize: The size of window will be registered in the dfget task registration phrase. And then, the window state is recorded in the ProgressManager as the SyncMap indexed by ClientID. The size of window is staic once it is recorded by supernode.</li>
<li>Update: The dfget client will report to the supernode about the result of downloading for every piece. In the <code>report</code> API of supernode server, the window will be updated based on the received piece number and piece status. To be specific, the window keeps sliding until the unacknowledged piece. It should be noted that the supernode is using the sender window, which has the range of <code>[una, una + wnd)</code>.</li>
<li>Finish: Update the <code>DeleteCID</code> method of ProgressManager to delete the sliding window state if it is in stream mode.</li>
</ul>
</li>
<li><p>Schedule the pieces according to the window state</p>
<p>The only modification that I made in this part lies at the <code>GetPieceProgressByCID</code> method of ProgressManager. The available pieces in regular mode means the success pieces which are not running; while for the stream mode, the available pieces means the cached pieces which are not running. After the modification, the ProgressManager would only return the available pieces inside the window when stream mode is on.</p>
<p>A new kind of piece status is created: UNCACHED. When the piece is downloaded successfully, I assume that it will sotred into the cache immediately. Afterwards, the piece maybe popped out of the cache. And in this case, the handler of supernode server <code>deletePieceCache</code> at <code>supernode/server/router.go:101</code> would be called to change the state of the piece. </p>
<p>It should be noted that, the scheduler in stream mode currently uses the same scheduler as the regular mode, which may demands future optimization.</p>
</li>
</ul>
<h3 id="3-2-DFGET-Downloader"><a href="#3-2-DFGET-Downloader" class="headerlink" title="3.2 DFGET Downloader"></a>3.2 DFGET Downloader</h3><p>Since the client stream writer has been implemented under the <code>p2p_downloader</code> folder, which means that the pieces downloading process has been finished. My work here is to fullfill the task of handling the successfully downloaded pieces to uploader. Besides that, in the perparation phase at <code>dfget/core/core.go:171</code>, the registration of stream task is necessary for uploader. Here are all the modifications:</p>
<ul>
<li><p><code>dfget/core/core.go:210</code>: The  <code>doDownload</code> method is refactored. One new interface is defined as <code>DownloadTimeoutTask</code>. The interface has two implementations, which are regular downloader and the stream downloader. </p>
</li>
<li><p><code>dfget/core/downloader/downloader.go:79</code>: The <code>Start()</code> method of the <code>StreamDownloadTimeoutTask</code> struct will call the <code>RunStream</code> method of the downloader, and then pass the stream reader to the <code>startWriter</code> method. </p>
</li>
<li><p><code>dfget/core/downloader/downloader_util.go:55</code>: The <code>startWriter</code> method is used to fetch the pieces from the stream reader concurrently, and then upload the pieces to uploader in order. The logic of the <code>startWriter</code> is referenced from the stream downloading method in CDN manager at <code>supernode/daemon/mgr/cdn/super_writer.go:59</code>. </p>
<p>The unit test has been added. </p>
</li>
</ul>
<h3 id="3-3-DEGET-Uploader"><a href="#3-3-DEGET-Uploader" class="headerlink" title="3.3 DEGET Uploader"></a>3.3 DEGET Uploader</h3><p>The previous uploader is solely used for the regular downloading method. For the stream uploader, I have added new APIs for it. Apart from that, the cache manager is added to manage the cache pieces. </p>
<ul>
<li><p><code>dfget/core/api/supernode_api.go:359</code>: A new kind of updating piece status API has been implemented. It is used to change the peice status from SUCCESSFUL to UNCACHED. </p>
</li>
<li><p><code>dfget/core/api/uploader_api.go:108</code>: The uploader API <code>RegisterStreamTask</code> is added to register the stream task at cache manager. The initialization of the according entry at cache manager is finshed after the call. </p>
</li>
<li><p><code>dfget/core/api/uploader_api.go:127</code>: The uploader API <code>DeliverPieceToUploader</code> is used to handle the piece from downloader to uploader. </p>
</li>
<li><p><code>dfget/core/uploader/cache.go:60</code>: The FIFO cache manager is created to control the piece caches. It would store and pop the piece in the style of FIFO. It should be noted that the cache manager is using the receiver window, which has the range of <code>[start, una)</code>.</p>
<p>The unit test has been added. </p>
</li>
<li><p>TODO: GC for cache manager</p>
</li>
</ul>
<h3 id="3-4-IPC-Between-DFGET-and-User"><a href="#3-4-IPC-Between-DFGET-and-User" class="headerlink" title="3.4 IPC Between DFGET and User"></a>3.4 IPC Between DFGET and User</h3><p>This part demands further discussion. Currently, I propose that the DFGET can directly output the content of the pieces to stdout, and then the user who calls the DFGET command, can redirect the stdout of the DFGET command to the write side of the pipe by generally supported method <a href="https://pubs.opengroup.org/onlinepubs/009695399/functions/popen.html" target="_blank" rel="noopener">popen</a>.</p>
<p>After that, the user can directly read from the pipe, and get the successfully downloaded content. Since the method uses the unnamed pipe, the whole process is not related with the file system.</p>
<h2 id="4-Milestone-Review"><a href="#4-Milestone-Review" class="headerlink" title="4. Milestone Review"></a>4. Milestone Review</h2><table>
<thead>
<tr>
<th>Date</th>
<th>Milestone</th>
</tr>
</thead>
<tbody>
<tr>
<td>07/07 - 07/14</td>
<td>Community Bonding &amp; Source Code Reading<br> <a href="https://github.com/dragonflyoss/Dragonfly/issues/1403#issuecomment-658523918" target="_blank" rel="noopener">Issue 1403</a></td>
</tr>
<tr>
<td>07/15 - 07/27</td>
<td>Research on the Scheduler of Supernode for Stream Downloading<a href="https://github.com/dragonflyoss/Dragonfly/pull/1447/commits/f9b7ef3921df515758e6a2d706cb5491789e2afd" target="_blank" rel="noopener"><br>Commit: Support Stream Mode in Supernode </a></td>
</tr>
<tr>
<td>07/28 - 08/10</td>
<td>Discuss the Stream Implementation with a Mentor from Ant.<br><a href="https://github.com/dragonflyoss/Dragonfly/pull/1447/commits/ffa8db4a5514ffe37a94353367e29696c73e7ea3" target="_blank" rel="noopener">Commit: Implement Work Flow of Stream Mode in DFGET</a></td>
</tr>
<tr>
<td>08/11 - 08/26</td>
<td>Research on the IPC between the User and Stream DFGET.<br><a href="https://github.com/dragonflyoss/Dragonfly/pull/1447/commits/8acfce95465b363846effcd429db6a03a40fe262" target="_blank" rel="noopener">commit: Add Unit Test and Fix Bugs for Integration Test</a></td>
</tr>
</tbody>
</table>
<p>Here is the changes of code lines after the commits: (+2033, -77).</p>
<h1 id="Project-Summary"><a href="#Project-Summary" class="headerlink" title="Project Summary"></a>Project Summary</h1><h2 id="1-Project-Deliverables"><a href="#1-Project-Deliverables" class="headerlink" title="1. Project Deliverables"></a>1. Project Deliverables</h2><h3 id="1-1-Detailed-Design"><a href="#1-1-Detailed-Design" class="headerlink" title="1.1 Detailed Design"></a>1.1 Detailed Design</h3><p>The Overrall Proposal: <a href="https://github.com/dragonflyoss/Dragonfly/issues/1436#issue-659970568" target="_blank" rel="noopener">https://github.com/dragonflyoss/Dragonfly/issues/1436#issue-659970568</a></p>
<p>Design of Supernode Scheduler: <a href="https://github.com/dragonflyoss/Dragonfly/pull/1447#issue-459701444" target="_blank" rel="noopener">https://github.com/dragonflyoss/Dragonfly/pull/1447#issue-459701444</a></p>
<p>Design of DFGET downloader, uploader and IPC between user and DFGET: <a href="https://github.com/dragonflyoss/Dragonfly/pull/1447#issuecomment-681619384" target="_blank" rel="noopener">https://github.com/dragonflyoss/Dragonfly/pull/1447#issuecomment-681619384</a></p>
<h3 id="1-2-Source-Code"><a href="#1-2-Source-Code" class="headerlink" title="1.2 Source Code"></a>1.2 Source Code</h3><p>Github Commits: <a href="https://github.com/dragonflyoss/Dragonfly/pull/1447/commits" target="_blank" rel="noopener">https://github.com/dragonflyoss/Dragonfly/pull/1447/commits</a></p>
<h3 id="1-3-Test-Document"><a href="#1-3-Test-Document" class="headerlink" title="1.3 Test Document"></a>1.3 Test Document</h3><p>The tests have been implemented into the test files. And the annotation inside the source files would be necessary for the developer to test. </p>
<p>cmd/dfget/app/root_test.go: <a href="https://github.com/dragonflyoss/Dragonfly/pull/1447/files#diff-14e54b172ea500c227d81045b4b132b4R139" target="_blank" rel="noopener">https://github.com/dragonflyoss/Dragonfly/pull/1447/files#diff-14e54b172ea500c227d81045b4b132b4R139</a></p>
<p>dfget/core/downloader/downloader_util_test.go: <a href="https://github.com/dragonflyoss/Dragonfly/pull/1447/files#diff-9b3047c6073bec2c5c3a02c87cfce3e2R1" target="_blank" rel="noopener">https://github.com/dragonflyoss/Dragonfly/pull/1447/files#diff-9b3047c6073bec2c5c3a02c87cfce3e2R1</a></p>
<p>dfget/core/uploader/cache_test.go: <a href="https://github.com/dragonflyoss/Dragonfly/pull/1447/files#diff-61f496afc10516997e19f5ac636278f8R1" target="_blank" rel="noopener">https://github.com/dragonflyoss/Dragonfly/pull/1447/files#diff-61f496afc10516997e19f5ac636278f8R1</a></p>
<h2 id="2-Project-Highlights"><a href="#2-Project-Highlights" class="headerlink" title="2. Project Highlights"></a>2. Project Highlights</h2><p>The highlights of my work is that I have implemented almost all of the downloading in sream mode. The sum of the modification code lines are (2033 + 77) = 2110. And I believe that the stream mode will definitely improve the efficiency of the Dragonfly downloading process in the case of the remote file system. </p>
<p>What’s more, this will be one of the features that Dragonfly owns compared to the traditional P2P systems. </p>
<h2 id="3-Experience"><a href="#3-Experience" class="headerlink" title="3. Experience"></a>3. Experience</h2><p>The whole ASoC experience benefits me a lot. First of all, I have done much research work during the application phase, which makes me familiar with the traditional distributed systems. And then, during the development phase, I learnt the system design, concurrent programming in golang, start-of-the-art architecture of Dragonfly and the group work experience with mentors in Alibaba. </p>
<p>Mentors are really good at what they are working for: by the simple discussion, they can always quickly find the weakness of my design and point out the correct direction of the next move. </p>
<p>In a word, it is so lucky for me to be chosen to be part of the 2020 ASoC program. </p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://notes-hongbo.top/2020/08/07/LRU-Implementation-in-Linux/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="秦baibai">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Beyond">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/08/07/LRU-Implementation-in-Linux/" itemprop="url">LRU Implementation in Linux</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-08-07T14:58:41-07:00">
                2020-08-07
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified&#58;</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2020-08-07T15:00:38-07:00">
                2020-08-07
              </time>
            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  44
                </span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>This blog is used to record the note regarding the detailed implementation of thread-safe LRU strategy in Linux. The requirement behind the note is that I have to develop the same LRU in Dragonfly project for ASoC 2020. </p>
<p>Reference: </p>
<ul>
<li><a href="https://code.woboq.org/linux/linux/include/linux/lru_cache.h.html#159" target="_blank" rel="noopener">lru_cache.h</a></li>
<li><a href="https://code.woboq.org/linux/linux/lib/lru_cache.c.html" target="_blank" rel="noopener">lru_cache.c</a></li>
</ul>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2020/08/07/LRU-Implementation-in-Linux/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://notes-hongbo.top/2020/07/30/Design-Pattern-Learning/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="秦baibai">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Beyond">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/07/30/Design-Pattern-Learning/" itemprop="url">Design Pattern Learning</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-07-30T10:47:50-07:00">
                2020-07-30
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified&#58;</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2020-08-02T17:23:39-07:00">
                2020-08-02
              </time>
            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  478
                </span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>This post is going to record the note of design pattern of object-oriented programming. By reading the book, the following ability should be acquired:</p>
<ul>
<li>Finding Appropriate Objects: The hard part about OO design is de-composing a system into objects. Design patterns help you identify less-obvious abstractions and the objects that can capture them.</li>
<li>Determining Object Granularity</li>
<li>Specifying Object Interfaces:<br>The set of all signatures defined by an object’s operations is called the <code>interface</code> to the object.</li>
<li>Specifying Object Implementations</li>
</ul>
<p>The reference material is listed below:</p>
<ul>
<li>the Github Respository: <a href="https://github.com/tmrts/go-patterns" target="_blank" rel="noopener">https://github.com/tmrts/go-patterns</a></li>
<li>textbook: Design Patterns: Elements of Reuseable Object-Oriented Software</li>
</ul>
<blockquote>
<p>  Christopher Alexander says, “Each pattern describes a problem which occurs over and over again in our environment, and then describes the core of the solution to that problem, in such a way that you can use this solution a million times over, without ever doing it the same way twice”</p>
<p>  Gamma, Erich. Design Patterns (Addison-Wesley Professional Computing Series) (p. 24). Pearson Education. Kindle Edition. </p>
</blockquote>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2020/07/30/Design-Pattern-Learning/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://notes-hongbo.top/2020/07/21/Research-for-Dragonfly-Streaming-Scheduler/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="秦baibai">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Beyond">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/07/21/Research-for-Dragonfly-Streaming-Scheduler/" itemprop="url">Research for Dragonfly Streaming Scheduler</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-07-21T17:24:32-07:00">
                2020-07-21
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified&#58;</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2020-07-21T19:46:54-07:00">
                2020-07-21
              </time>
            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  1k
                </span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>Research done for the design of Dragonfly Streaming Scheduler. </p>
<p>Here P2P Streaming means that the data downloaded by the peer which will then be passed to the target place, is not going to stored in the local file system. The data would be maintained in the memory, and then ditectly send to the target node. </p>
<p>This is necessary for the P2P downloading when the peer server have a cloud disk. In that case, the process of writing the data to the file system of peer server would be limited to the network I/O. But if the P2P streaming is adopted, the writing process would be eliminated. </p>
<p>In this post, I would do research on how to design the scheduler in the supernode/server to distribute the pieces among peer servers. </p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2020/07/21/Research-for-Dragonfly-Streaming-Scheduler/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://notes-hongbo.top/2020/07/14/Dragonfly-Feature-Request-supporting-sendfile-in-dfget-1403/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="秦baibai">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Beyond">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/07/14/Dragonfly-Feature-Request-supporting-sendfile-in-dfget-1403/" itemprop="url">Dragonfly: [Feature Request] supporting sendfile in dfget #1403</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-07-14T10:02:01-07:00">
                2020-07-14
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified&#58;</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2020-07-14T18:17:34-07:00">
                2020-07-14
              </time>
            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  418
                </span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>This post is to record the process of solving the Dragonfly <a href="https://github.com/dragonflyoss/Dragonfly/issues/1403" target="_blank" rel="noopener">Issue#1403</a>, which is related with the optimization to the p2p uploader. To be specific, support the sendfile system call in upload piece process. </p>
<p>The conclusion is that, for the reader with computation task, it is impossible to use the send file to provide the fast read &amp; write. Only the regular <code>io.Reader</code> type could have this feature, which are <code>*io.File</code> and <code>*io.LimitedReader</code>. </p>
<p>Here are the reference resources:</p>
<ul>
<li><a href="https://www.jianshu.com/p/70e1c396c320" target="_blank" rel="noopener">https://www.jianshu.com/p/70e1c396c320</a></li>
<li><a href="https://delveshal.github.io/2018/08/31/zero-copy-transfer/" target="_blank" rel="noopener">https://delveshal.github.io/2018/08/31/zero-copy-transfer/</a></li>
<li><a href="https://golang.org/src/net/http/server.go#L570" target="_blank" rel="noopener">https://golang.org/src/net/http/server.go#L570</a></li>
</ul>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2020/07/14/Dragonfly-Feature-Request-supporting-sendfile-in-dfget-1403/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://notes-hongbo.top/2020/07/08/Dragonfly-Source-Code-Note/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="秦baibai">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Beyond">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/07/08/Dragonfly-Source-Code-Note/" itemprop="url">Dragonfly - Source Code Note</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-07-08T18:17:47-07:00">
                2020-07-08
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified&#58;</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2020-08-23T23:11:24-07:00">
                2020-08-23
              </time>
            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  5.4k
                </span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>This note is to reocrd the source code analysis of Dragonfly, which is the program that I participate during the 2020 summer as the remote internship. Thanks Alibaba for this great opportunity. </p>
<p>This <a href="https://www.codedump.info/post/20190324-how-to-read-code/" target="_blank" rel="noopener">blog (how to read source code?)</a> helps me a lot from the perpective of theory of source code reading. While for the methodology, I will first locate the interested part of the source code, and then using githistory.xyz tool to keep track of the code from the very beginning of the development. With the help of the githistory.xyz, I could find the associated code together with the part that I’m focused on by looking at every commit of the file. </p>
<blockquote>
<p>  Linus说： “烂程序员关心的是代码。好程序员关心的是数据结构和它们之间的关系。”</p>
</blockquote>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2020/07/08/Dragonfly-Source-Code-Note/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://notes-hongbo.top/2020/06/26/Research-for-Dragonfly-Bandwidth-Allocation-Strategy/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="秦baibai">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Beyond">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/06/26/Research-for-Dragonfly-Bandwidth-Allocation-Strategy/" itemprop="url">Research for Dragonfly Bandwidth Allocation Strategy</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-06-26T17:23:14-07:00">
                2020-06-26
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified&#58;</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2020-07-21T17:24:57-07:00">
                2020-07-21
              </time>
            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  921
                </span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>可以看到，DragonFly与以下三者均无可比性。因此我目前的想法是将取一个目标的占用带宽比，之后向该值移动，具体机制可以参考TCP的拥塞协议。</p>
<ul>
<li><p>Google File System</p>
<p>数据流选择物理距离上最近的机器进行传输，自定义的网络拓扑保证了IP地址可以用于计算机器之间的距离。</p>
<p>机器实际上无需抉择带宽的分配：毕竟只有一个传输目标。</p>
</li>
<li><p>MapReduce</p>
<p>底层使用了GFS作为存储结构，由于master只需要向worker节点传输input data，而数据在GFS中是作为三副本来传输的，因此存储在master的数据在其他节点也有存储，所以可以直接就近传输。在大数据量的情形下，这种策略的并发性尤其好。</p>
</li>
<li><p>BitTorrent</p>
<p>download: 经典的实现中采用了 rarest-first block shceduling ，即默认网络中各个节点的带宽均匀。</p>
<p>upload: 优先对曾经给自己传输过数据的节点发送数据。</p>
<p>因为DragonFly根本没有考虑到peer节点之间的公平性问题，关于带宽的优化目标只是最大化其使用，所以不可直接使用BitTorrent的结果</p>
</li>
</ul>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2020/06/26/Research-for-Dragonfly-Bandwidth-Allocation-Strategy/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope="" itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://notes-hongbo.top/2020/06/19/How-to-interview/">

    <span hidden itemprop="author" itemscope="" itemtype="http://schema.org/Person">
      <meta itemprop="name" content="秦baibai">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.JPG">
    </span>

    <span hidden itemprop="publisher" itemscope="" itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Beyond">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2020/06/19/How-to-interview/" itemprop="url">How to interview</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2020-06-19T08:14:04-07:00">
                2020-06-19
              </time>
            

            
              <span class="post-meta-divider">|</span>
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-check-o"></i>
              </span>
              
                <span class="post-meta-item-text">Post modified&#58;</span>
              
              <time title="Post modified" itemprop="dateModified" datetime="2020-06-22T10:34:18-07:00">
                2020-06-22
              </time>
            
          </span>

          

          
            
          

          
          

          

          
            <div class="post-wordcount">
              
                
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Words count in article&#58;</span>
                
                <span title="Words count in article">
                  1.3k
                </span>
              

              

              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          <p>This note is used to record the useful points in the book “<a href="https://link.1point3acres.com/?url=https%3A%2F%2Famzn.to%2F2ONdkr8" target="_blank" rel="noopener">How to Interview at Amazon for International Professionals: Learn the American Interview Style and the Amazon Leadership Principles</a>“. I learned the book from this <a href="https://www.1point3acres.com/bbs/thread-573198-1-1.html" target="_blank" rel="noopener">link</a>, which is the tutorial to the behavioral questions in Amazon Interview. </p>
          <!--noindex-->
          <div class="post-button text-center">
            <a class="btn" href="/2020/06/19/How-to-interview/#more" rel="contents">
              Read more &raquo;
            </a>
          </div>
          <!--/noindex-->
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><span class="space">&hellip;</span><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
      <div id="sidebar-dimmer"></div>
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope="" itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image" src="/images/avatar.JPG" alt="秦baibai">
            
              <p class="site-author-name" itemprop="name">秦baibai</p>
              <p class="site-description motion-element" itemprop="description">So we beat on, boats against the current, borne back ceaselessly into the past.</p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">48</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                <a href="/categories/index.html">
                  <span class="site-state-item-count">4</span>
                  <span class="site-state-item-name">categories</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">56</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          <div class="links-of-author motion-element">
            
              
                <span class="links-of-author-item">
                  <a href="https://github.com/qhb1001" target="_blank" title="GitHub">
                    
                      <i class="fa fa-fw fa-github"></i>GitHub</a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="mailto:hongbo.qin.1001@gmail.com" target="_blank" title="E-Mail">
                    
                      <i class="fa fa-fw fa-envelope"></i>E-Mail</a>
                </span>
              
                <span class="links-of-author-item">
                  <a href="https://www.instagram.com/qhb_1001/" target="_blank" title="Instagram">
                    
                      <i class="fa fa-fw fa-instagram"></i>Instagram</a>
                </span>
              
            
          </div>

          
          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-inline">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                友情链接
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="http://mrsempress.top" title="Little Sun" target="_blank">Little Sun</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://tobiaslee.top/" title="TobiasLee" target="_blank">TobiasLee</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://aidenfan.github.io/" title="UdefinedF" target="_blank">UdefinedF</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://blog.three7.cc/" title="37as" target="_blank">37as</a>
                  </li>
                
              </ul>
            </div>
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">秦baibai</span>

  
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
    
      <span class="post-meta-item-text">Site words total count&#58;</span>
    
    <span title="Site words total count">79.8k</span>
  
</div>






  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Muse</a></div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
          <span id="scrollpercent"><span>0</span>%</span>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.3"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.3"></script>



  
  

  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.3"></script>




  


  




	





  





  












  





  

  

  

  
  

  
  
    <script type="text/x-mathjax-config">
      MathJax.Hub.Config({
        tex2jax: {
          inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
          processEscapes: true,
          skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
        }
      });
    </script>

    <script type="text/x-mathjax-config">
      MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for (i=0; i < all.length; i += 1) {
          all[i].SourceElement().parentNode.className += ' has-jax';
        }
      });
    </script>
    <script type="text/javascript" src="//cdn.bootcss.com/mathjax/2.7.1/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
  


  
  <script type="text/javascript" src="/js/src/js.cookie.js?v=5.1.3"></script>
  <script type="text/javascript" src="/js/src/scroll-cookie.js?v=5.1.3"></script>


  


</body>
</html>
